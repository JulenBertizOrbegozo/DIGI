<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cl√≠nica Dental San Crist√≥bal</title>
    <link rel="stylesheet" href="index.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet" />
</head>
<body>
    <header>
        <div class="top-bar">
            <div class="login-area">
                <a href="login.html">Iniciar sesi√≥n</a>
                <a href="register.html">Crear cuenta</a>
            </div>
        </div>
        <h1>Cl√≠nica Dental San Crist√≥bal</h1>
    </header>

    <nav>
        <a href="#inicio">Inicio</a>
        <a href="#consultas">Consultas</a>
        <a href="#sobre">Sobre Nosotros</a>
        <a href="#contacto">Contacto</a>
    </nav>

    <div class="container" id="inicio">
        <h2>Bienvenidos</h2>
        <p>Ofrecemos los mejores servicios para el cuidado de tu sonrisa.</p>
    </div>

    <section class="galeria">
        <h2>Instalaciones</h2>
        <div class="imagenes">
            <img src="/img2.jpg" alt="Recepci√≥n de la cl√≠nica">
            <img src="/img3.jpg" alt="Consultorio dental">
            <img src="/img1.png" alt="Equipo profesional">
        </div>
    </section>

    <!-- Chatbot mejorado -->
    <button class="chat-toggle" onclick="toggleChat()">üí¨</button>
    <div class="chat-container" id="chatContainer">
        <div class="chat-header">Asistente Virtual</div>
        <div class="chat-body" id="chatBody"></div>
        <div class="chat-input">
            <input type="text" id="chatInput" placeholder="Escribe tu pregunta..." />
            <button onclick="sendMessage()">Enviar</button>
        </div>
    </div>

    <footer>
        &copy; 2025 Cl√≠nica Dental San Crist√≥bal - Todos los derechos reservados.
    </footer>

    <script>
        // Verificar si el usuario est√° logueado
        const usuarioLogueado = localStorage.getItem('usuarioLogueado');
        if (!usuarioLogueado) {
            window.location.href = "login.html"; // Redirige al login si no est√° logueado
        }

        // Funci√≥n para alternar la visibilidad del chatbot
        function toggleChat() {
            const chat = document.getElementById('chatContainer');
            chat.style.display = chat.style.display === 'none' || chat.style.display === '' ? 'flex' : 'none';
        }

        // Funci√≥n para enviar mensaje en el chatbot
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (message === '') return;

            const chatBody = document.getElementById('chatBody');
            chatBody.innerHTML += `<div class="user-msg"><strong>T√∫:</strong> ${message}</div>`;
            input.value = '';

            const respuesta = detectarIntencion(message.toLowerCase());

            setTimeout(() => {
                chatBody.innerHTML += `<div class="bot-msg"><strong>Bot:</strong> ${respuesta}</div>`;
                chatBody.scrollTop = chatBody.scrollHeight;
            }, 400);
        }

        // Funci√≥n para detectar la intenci√≥n del usuario
        function detectarIntencion(msg) {
            const intents = [
                {
                    tags: ["hola", "buenos d√≠as", "buenas", "qu√© tal", "hey"],
                    respuesta: "¬°Hola! üòä Bienvenido a Cl√≠nica Dental San Crist√≥bal. ¬øEn qu√© te puedo ayudar hoy?"
                },
                {
                    tags: ["horario", "cu√°ndo abren", "cu√°ndo atienden", "horas", "abren"],
                    respuesta: "Atendemos de lunes a s√°bado, de 9:00 AM a 6:00 PM. ¬°Estaremos encantados de verte!"
                },
                {
                    tags: ["limpieza", "cu√°nto cuesta limpieza", "precio limpieza", "hacerme limpieza"],
                    respuesta: "Una limpieza dental cuesta $50. ¬°Es muy recomendable cada 6 meses!"
                },
                {
                    tags: ["brackets", "frenos", "ortodoncia", "ponerme brackets", "alinear dientes"],
                    respuesta: "S√≠, ofrecemos ortodoncia con brackets met√°licos y est√©ticos. Podemos agendarte una valoraci√≥n gratis."
                },
                {
                    tags: ["implantes", "implante dental", "poner implante", "dientes fijos"],
                    respuesta: "Realizamos implantes dentales de alta calidad. Uno de nuestros expertos puede asesorarte."
                },
                {
                    tags: ["emergencia", "urgencia", "dolor fuerte", "necesito ayuda urgente"],
                    respuesta: "Ll√°manos inmediatamente al +123456789 si es una emergencia. ¬°Estamos aqu√≠ para ayudarte!"
                },
                {
                    tags: ["contacto", "tel√©fono", "correo", "email", "c√≥mo hablo con ustedes"],
                    respuesta: "Puedes llamarnos al +123456789 o escribirnos a contacto@clinicadental.com. Tambi√©n tenemos WhatsApp."
                },
                {
                    tags: ["gracias", "muchas gracias", "genial", "perfecto"],
                    respuesta: "¬°Con gusto! üòä Si tienes otra consulta, aqu√≠ estoy."
                },
                {
                    tags: ["adi√≥s", "nos vemos", "hasta luego", "chau"],
                    respuesta: "¬°Cu√≠date mucho! üòÅ Esperamos verte pronto por la cl√≠nica."
                }
            ];

            for (let intent of intents) {
                for (let tag of intent.tags) {
                    if (msg.includes(tag)) {
                        return intent.respuesta;
                    }
                }
            }

            return "Hmm... no estoy seguro de haber entendido. ¬øPodr√≠as decirlo de otra forma o preguntarme algo como 'horario', 'precio limpieza', 'contacto', etc.?";
        }
    </script>
</body>
</html>
